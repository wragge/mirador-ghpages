{"version":3,"sources":["node_modules/mirador/dist/es/src/components/GalleryViewThumbnail.js","node_modules/mirador/dist/es/src/containers/GalleryViewThumbnail.js","node_modules/mirador/dist/es/src/components/GalleryView.js","node_modules/mirador/dist/es/src/containers/GalleryView.js"],"names":["_react","_interopRequireWildcard","require","_Avatar","_interopRequireDefault","_Chip","_CommentSharp","_SearchSharp","_classnames","_reactIntersectionObserver","_MiradorCanvas","_IIIFThumbnail","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","GalleryViewThumbnail","exports","_Component","Component","_super","_this","state","requestedAnnotations","handleSelect","bind","handleKey","handleIntersection","_this$props","canvas","selected","setCanvas","focusOnCanvas","id","event","_this$props2","keys","enter","space","chars","which","_ref","isIntersecting","_this$props3","annotationsCount","requestCanvasAnnotations","undefined","setState","_this$props4","searchAnnotationsCount","classes","config","miradorCanvas","MiradorCanvas","React","createElement","IntersectionObserver","onChange","index","className","classNames","galleryViewItem","hasAnnotations","onClick","onKeyUp","role","tabIndex","IIIFThumbnail","resource","labelled","variant","maxWidth","width","maxHeight","height","style","margin","concat","Math","ceil","aspectRatio","chips","Chip","avatar","Avatar","circle","avatarIcon","SearchIcon","fontSize","label","searchChip","size","AnnotationIcon","annotationIcon","annotationsChip","defaultProps","_redux","_reactRedux","_flatten","_styles","actions","_GalleryViewThumbnail","_selectors","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","_objectSpread","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","styles","theme","typography","caption","backgroundColor","opacity","position","right","textAlign","top","border","palette","action","primary","main","outline","hover","cursor","display","spacing","minWidth","overflow","padding","highlights","marginTop","mapStateToProps","windowId","currentCanvas","getCurrentCanvas","searchAnnotations","getSearchAnnotationsForWindow","canvasAnnotations","flatten","map","resources","targetId","hasOpenAnnotationsWindow","getCompanionWindowsForContent","content","getPresentAnnotationsOnSelectedCanvases","canvasId","reduce","v","getConfig","galleryView","mapDispatchToProps","dispatch","_ref2","setWindowViewType","_len","args","Array","_key","enhance","compose","connect","withStyles","_default","_Paper","GalleryView","canvases","viewingDirection","htmlDir","Paper","component","dir","square","elevation","galleryContainer","_withPlugins","_GalleryView","getCanvases","getSequenceViewingDirection","alignItems","flexDirection","flexWrap","overflowX","overflowY","withPlugins"],"mappings":"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","file":"GalleryView.60377a17.js","sourceRoot":"..","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport AnnotationIcon from '@material-ui/icons/CommentSharp';\nimport SearchIcon from '@material-ui/icons/SearchSharp';\nimport classNames from 'classnames';\nimport 'intersection-observer'; // polyfill needed for Safari\n\nimport IntersectionObserver from '@researchgate/react-intersection-observer';\nimport MiradorCanvas from '../lib/MiradorCanvas';\nimport IIIFThumbnail from '../containers/IIIFThumbnail';\n/**\n * Represents a WindowViewer in the mirador workspace. Responsible for mounting\n * OSD and Navigation\n */\n\nexport var GalleryViewThumbnail = /*#__PURE__*/function (_Component) {\n  _inherits(GalleryViewThumbnail, _Component);\n\n  var _super = _createSuper(GalleryViewThumbnail);\n\n  /** */\n  function GalleryViewThumbnail(props) {\n    var _this;\n\n    _classCallCheck(this, GalleryViewThumbnail);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      requestedAnnotations: false\n    };\n    _this.handleSelect = _this.handleSelect.bind(_assertThisInitialized(_this));\n    _this.handleKey = _this.handleKey.bind(_assertThisInitialized(_this));\n    _this.handleIntersection = _this.handleIntersection.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** @private */\n\n\n  _createClass(GalleryViewThumbnail, [{\n    key: \"handleSelect\",\n    value: function handleSelect() {\n      var _this$props = this.props,\n          canvas = _this$props.canvas,\n          selected = _this$props.selected,\n          setCanvas = _this$props.setCanvas,\n          focusOnCanvas = _this$props.focusOnCanvas;\n\n      if (selected) {\n        focusOnCanvas();\n      } else {\n        setCanvas(canvas.id);\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"handleKey\",\n    value: function handleKey(event) {\n      var _this$props2 = this.props,\n          canvas = _this$props2.canvas,\n          setCanvas = _this$props2.setCanvas,\n          focusOnCanvas = _this$props2.focusOnCanvas;\n      this.keys = {\n        enter: 'Enter',\n        space: ' '\n      };\n      this.chars = {\n        enter: 13,\n        space: 32\n      };\n      var enterOrSpace = event.key === this.keys.enter || event.which === this.chars.enter || event.key === this.keys.space || event.which === this.chars.space;\n\n      if (enterOrSpace) {\n        focusOnCanvas();\n      } else {\n        setCanvas(canvas.id);\n      }\n    }\n    /** */\n\n  }, {\n    key: \"handleIntersection\",\n    value: function handleIntersection(_ref) {\n      var isIntersecting = _ref.isIntersecting;\n      var _this$props3 = this.props,\n          annotationsCount = _this$props3.annotationsCount,\n          requestCanvasAnnotations = _this$props3.requestCanvasAnnotations;\n      var requestedAnnotations = this.state.requestedAnnotations;\n      if (!isIntersecting || annotationsCount === undefined || annotationsCount > 0 || requestedAnnotations) return;\n      this.setState({\n        requestedAnnotations: true\n      });\n      requestCanvasAnnotations();\n    }\n    /**\n     * Renders things\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          annotationsCount = _this$props4.annotationsCount,\n          searchAnnotationsCount = _this$props4.searchAnnotationsCount,\n          canvas = _this$props4.canvas,\n          classes = _this$props4.classes,\n          config = _this$props4.config,\n          selected = _this$props4.selected;\n      var miradorCanvas = new MiradorCanvas(canvas);\n      return /*#__PURE__*/React.createElement(IntersectionObserver, {\n        onChange: this.handleIntersection\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        key: canvas.index,\n        className: classNames(classes.galleryViewItem, selected ? classes.selected : '', searchAnnotationsCount > 0 ? classes.hasAnnotations : ''),\n        onClick: this.handleSelect,\n        onKeyUp: this.handleKey,\n        role: \"button\",\n        tabIndex: 0\n      }, /*#__PURE__*/React.createElement(IIIFThumbnail, {\n        resource: canvas,\n        labelled: true,\n        variant: \"outside\",\n        maxWidth: config.width,\n        maxHeight: config.height,\n        style: {\n          margin: '0 auto',\n          maxWidth: \"\".concat(Math.ceil(config.height * miradorCanvas.aspectRatio), \"px\")\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.chips\n      }, searchAnnotationsCount > 0 && /*#__PURE__*/React.createElement(Chip, {\n        avatar: /*#__PURE__*/React.createElement(Avatar, {\n          className: classes.avatar,\n          classes: {\n            circle: classes.avatarIcon\n          }\n        }, /*#__PURE__*/React.createElement(SearchIcon, {\n          fontSize: \"small\"\n        })),\n        label: searchAnnotationsCount,\n        className: classNames(classes.searchChip),\n        size: \"small\"\n      }), (annotationsCount || 0) > 0 && /*#__PURE__*/React.createElement(Chip, {\n        avatar: /*#__PURE__*/React.createElement(Avatar, {\n          className: classes.avatar,\n          classes: {\n            circle: classes.avatarIcon\n          }\n        }, /*#__PURE__*/React.createElement(AnnotationIcon, {\n          className: classes.annotationIcon\n        })),\n        label: annotationsCount,\n        className: classNames(classes.annotationsChip),\n        size: \"small\"\n      })))));\n    }\n  }]);\n\n  return GalleryViewThumbnail;\n}(Component);\nGalleryViewThumbnail.defaultProps = {\n  annotationsCount: undefined,\n  config: {\n    height: 100,\n    width: null\n  },\n  requestCanvasAnnotations: function requestCanvasAnnotations() {},\n  searchAnnotationsCount: 0,\n  selected: false\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport flatten from 'lodash/flatten';\nimport { withStyles } from '@material-ui/core/styles';\nimport * as actions from '../state/actions';\nimport { GalleryViewThumbnail } from '../components/GalleryViewThumbnail';\nimport { getSearchAnnotationsForWindow, getCurrentCanvas, getConfig, getPresentAnnotationsOnSelectedCanvases, getCompanionWindowsForContent } from '../state/selectors';\n/**\n * Styles to be passed to the withStyles HOC\n */\n\nvar styles = function styles(theme) {\n  return {\n    annotationIcon: {\n      height: '1rem',\n      width: '1rem'\n    },\n    annotationsChip: _objectSpread({}, theme.typography.caption),\n    avatar: {\n      backgroundColor: 'transparent'\n    },\n    chips: {\n      opacity: 0.875,\n      position: 'absolute',\n      right: 0,\n      textAlign: 'right',\n      top: 0\n    },\n    galleryViewItem: {\n      '&$hasAnnotations': {\n        border: \"2px solid \".concat(theme.palette.action.selected)\n      },\n      '&$selected,&$selected$hasAnnotations': {\n        border: \"2px solid \".concat(theme.palette.primary.main)\n      },\n      '&:focus': {\n        outline: 'none'\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      border: '2px solid transparent',\n      cursor: 'pointer',\n      display: 'inline-block',\n      margin: \"\".concat(theme.spacing(1), \"px \").concat(theme.spacing(0.5), \"px\"),\n      maxHeight: function maxHeight(props) {\n        return props.config.height + 45;\n      },\n      minWidth: '60px',\n      overflow: 'hidden',\n      padding: theme.spacing(0.5),\n      position: 'relative',\n      width: 'min-content'\n    },\n    hasAnnotations: {},\n    searchChip: _objectSpread(_objectSpread({}, theme.typography.caption), {}, {\n      '&$selected $avatar': {\n        backgroundColor: theme.palette.highlights.primary\n      },\n      marginTop: 2\n    }),\n    selected: {}\n  };\n};\n/** */\n\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var canvas = _ref.canvas,\n      windowId = _ref.windowId;\n  var currentCanvas = getCurrentCanvas(state, {\n    windowId: windowId\n  });\n  var searchAnnotations = getSearchAnnotationsForWindow(state, {\n    windowId: windowId\n  });\n  var canvasAnnotations = flatten(searchAnnotations.map(function (a) {\n    return a.resources;\n  })).filter(function (a) {\n    return a.targetId === canvas.id;\n  });\n  var hasOpenAnnotationsWindow = getCompanionWindowsForContent(state, {\n    content: 'annotations',\n    windowId: windowId\n  }).length > 0;\n  return {\n    annotationsCount: function () {\n      if (!hasOpenAnnotationsWindow) return undefined;\n      var annotations = getPresentAnnotationsOnSelectedCanvases(state, {\n        canvasId: canvas.id\n      });\n      return annotations.reduce(function (v, a) {\n        return v + a.resources.filter(function (r) {\n          return r.targetId === canvas.id;\n        }).length;\n      }, 0);\n    }(),\n    config: getConfig(state).galleryView,\n    searchAnnotationsCount: canvasAnnotations.length,\n    selected: currentCanvas && currentCanvas.id === canvas.id\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WindowViewer\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var canvas = _ref2.canvas,\n      id = _ref2.id,\n      windowId = _ref2.windowId;\n  return {\n    focusOnCanvas: function focusOnCanvas() {\n      return dispatch(actions.setWindowViewType(windowId, 'single'));\n    },\n    requestCanvasAnnotations: function requestCanvasAnnotations() {\n      return dispatch(actions.requestCanvasAnnotations(windowId, canvas.id));\n    },\n    setCanvas: function setCanvas() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return dispatch(actions.setCanvas.apply(actions, [windowId].concat(args)));\n    }\n  };\n};\n\nvar enhance = compose(connect(mapStateToProps, mapDispatchToProps), withStyles(styles) // further HOC go here\n);\nexport default enhance(GalleryViewThumbnail);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport GalleryViewThumbnail from '../containers/GalleryViewThumbnail';\n/**\n * Renders a GalleryView overview of the manifest.\n */\n\nexport var GalleryView = /*#__PURE__*/function (_Component) {\n  _inherits(GalleryView, _Component);\n\n  var _super = _createSuper(GalleryView);\n\n  function GalleryView() {\n    _classCallCheck(this, GalleryView);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GalleryView, [{\n    key: \"render\",\n    value:\n    /**\n     * Renders things\n     */\n    function render() {\n      var _this$props = this.props,\n          canvases = _this$props.canvases,\n          classes = _this$props.classes,\n          viewingDirection = _this$props.viewingDirection,\n          windowId = _this$props.windowId;\n      var htmlDir = viewingDirection === 'right-to-left' ? 'rtl' : 'ltr';\n      return /*#__PURE__*/React.createElement(Paper, {\n        component: \"section\",\n        dir: htmlDir,\n        square: true,\n        elevation: 0,\n        className: classes.galleryContainer,\n        id: \"\".concat(windowId, \"-gallery\")\n      }, canvases.map(function (canvas) {\n        return /*#__PURE__*/React.createElement(GalleryViewThumbnail, {\n          key: canvas.id,\n          windowId: windowId,\n          canvas: canvas\n        });\n      }));\n    }\n  }]);\n\n  return GalleryView;\n}(Component);\nGalleryView.defaultProps = {\n  classes: {},\n  viewingDirection: ''\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { GalleryView } from '../components/GalleryView';\nimport { getCanvases, getSequenceViewingDirection } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    canvases: getCanvases(state, {\n      windowId: windowId\n    }),\n    viewingDirection: getSequenceViewingDirection(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n * Styles to be passed to the withStyles HOC\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    galleryContainer: {\n      alignItems: 'flex-start',\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      overflowX: 'hidden',\n      overflowY: 'scroll',\n      padding: '50px 0 50px 20px',\n      width: '100%'\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps), withPlugins('GalleryView') // further HOC go here\n);\nexport default enhance(GalleryView);"]}